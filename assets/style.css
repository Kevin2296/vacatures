:root{
  --bg:#06060a; --fg:#fff;
  --muted:rgba(255,255,255,.78);
  --muted2:rgba(255,255,255,.55);
  --gold1:#ffe2b2; --gold2:#ff8a1f;
  --card:rgba(255,255,255,.07);
  --stroke:rgba(255,255,255,.12);
  --shadow: 0 22px 70px rgba(0,0,0,.60);
}

html,body{height:100%;margin:0;background:var(--bg);color:var(--fg);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial}
*{box-sizing:border-box}

/* Background: luxe kerst */
.bg{
  position:fixed; inset:0; pointer-events:none; overflow:hidden;
  background:
    radial-gradient(900px 520px at 20% 10%, rgba(255,138,31,.24), transparent 62%),
    radial-gradient(820px 560px at 80% 22%, rgba(255,226,178,.18), transparent 62%),
    radial-gradient(980px 780px at 50% 120%, rgba(255,138,31,.12), transparent 62%),
    linear-gradient(#050507, #090913);
  filter:saturate(1.08);
}

/* Tiny stars */
.stars{
  position:absolute; inset:-20%;
  background-image:
    radial-gradient(2px 2px at 10% 20%, rgba(255,255,255,.38) 40%, transparent 42%),
    radial-gradient(1px 1px at 30% 60%, rgba(255,255,255,.26) 40%, transparent 42%),
    radial-gradient(1.5px 1.5px at 70% 30%, rgba(255,255,255,.30) 40%, transparent 42%),
    radial-gradient(1px 1px at 85% 70%, rgba(255,255,255,.20) 40%, transparent 42%),
    radial-gradient(2px 2px at 55% 80%, rgba(255,255,255,.18) 40%, transparent 42%);
  opacity:.55;
  animation: drift 16s ease-in-out infinite alternate;
}

/* Glitter bokeh */
.glitter{
  position:absolute; inset:0; opacity:.28;
  background:
    radial-gradient(2px 2px at 15% 35%, rgba(255,226,178,.95) 30%, transparent 35%),
    radial-gradient(1px 1px at 65% 25%, rgba(255,138,31,.95) 30%, transparent 35%),
    radial-gradient(2px 2px at 78% 62%, rgba(255,226,178,.80) 30%, transparent 35%),
    radial-gradient(1px 1px at 40% 78%, rgba(255,138,31,.80) 30%, transparent 35%),
    radial-gradient(1.8px 1.8px at 22% 82%, rgba(255,226,178,.70) 30%, transparent 35%),
    radial-gradient(1.2px 1.2px at 88% 18%, rgba(255,138,31,.70) 30%, transparent 35%);
  animation: twinkle 3.8s ease-in-out infinite;
}

/* Subtle christmas lights line near top */
.lights{
  position:absolute; left:-10%; right:-10%; top:-8px; height:90px;
  opacity:.20;
  background:
    radial-gradient(14px 14px at 10% 35px, rgba(255,138,31,.9) 30%, transparent 60%),
    radial-gradient(12px 12px at 22% 40px, rgba(255,226,178,.85) 30%, transparent 60%),
    radial-gradient(13px 13px at 35% 32px, rgba(255,138,31,.85) 30%, transparent 60%),
    radial-gradient(12px 12px at 48% 44px, rgba(255,226,178,.80) 30%, transparent 60%),
    radial-gradient(14px 14px at 60% 34px, rgba(255,138,31,.85) 30%, transparent 60%),
    radial-gradient(12px 12px at 73% 42px, rgba(255,226,178,.78) 30%, transparent 60%),
    radial-gradient(13px 13px at 86% 36px, rgba(255,138,31,.82) 30%, transparent 60%),
    linear-gradient(to bottom, rgba(255,226,178,.35), transparent 70%);
  filter: blur(0.2px);
}

/* Snow layers */
.snow{
  position:absolute; inset:-30% 0 -30% 0; opacity:.30;
  transform:translateY(-10%);
  background-repeat:repeat;
  background-size: 420px 420px;
  animation: snow 9s linear infinite;
}
.snow1{
  background-image:
    radial-gradient(2px 2px at 10% 10%, rgba(255,255,255,.60) 40%, transparent 42%),
    radial-gradient(1px 1px at 25% 30%, rgba(255,255,255,.40) 40%, transparent 42%),
    radial-gradient(2px 2px at 40% 20%, rgba(255,255,255,.50) 40%, transparent 42%),
    radial-gradient(1px 1px at 55% 35%, rgba(255,255,255,.35) 40%, transparent 42%),
    radial-gradient(2px 2px at 70% 15%, rgba(255,255,255,.42) 40%, transparent 42%),
    radial-gradient(1px 1px at 85% 28%, rgba(255,255,255,.28) 40%, transparent 42%);
  animation-duration: 7s;
}
.snow2{
  opacity:.22;
  background-size: 560px 560px;
  background-image:
    radial-gradient(2px 2px at 12% 40%, rgba(255,255,255,.42) 40%, transparent 42%),
    radial-gradient(1px 1px at 32% 55%, rgba(255,255,255,.26) 40%, transparent 42%),
    radial-gradient(2px 2px at 58% 38%, rgba(255,255,255,.34) 40%, transparent 42%),
    radial-gradient(1px 1px at 78% 62%, rgba(255,255,255,.22) 40%, transparent 42%),
    radial-gradient(2px 2px at 90% 44%, rgba(255,255,255,.28) 40%, transparent 42%);
  animation-duration: 10s;
}
.snow3{
  opacity:.16;
  background-size: 760px 760px;
  background-image:
    radial-gradient(2px 2px at 18% 70%, rgba(255,255,255,.30) 40%, transparent 42%),
    radial-gradient(1px 1px at 40% 80%, rgba(255,255,255,.18) 40%, transparent 42%),
    radial-gradient(2px 2px at 68% 76%, rgba(255,255,255,.22) 40%, transparent 42%),
    radial-gradient(1px 1px at 86% 88%, rgba(255,255,255,.14) 40%, transparent 42%);
  animation-duration: 14s;
}

@keyframes drift{
  from{transform:translate3d(-1.5%, -1.0%, 0) scale(1)}
  to{transform:translate3d(1.5%, 1.0%, 0) scale(1.02)}
}
@keyframes twinkle{0%,100%{opacity:.20}50%{opacity:.34}}
@keyframes snow { to { transform:translateY(10%); } }

/* Layout */
.wrap{position:fixed; inset:0; display:grid; place-items:center; padding:24px}
.card{
  width:min(600px,100%);
  border-radius:28px;
  background:rgba(255,255,255,.07);
  border:1px solid rgba(255,255,255,.12);
  box-shadow:0 22px 70px rgba(0,0,0,.60);
  padding:26px 22px;
  text-align:center;
  backdrop-filter: blur(12px);
}

/* Badge + heading */
.badge{
  display:inline-flex; gap:10px; align-items:center;
  padding:10px 14px; border-radius:999px;
  background:rgba(255,255,255,.07);
  border:1px solid rgba(255,255,255,.12);
  margin-bottom:14px;
}
.spark{
  width:10px;height:10px;border-radius:999px;
  background:linear-gradient(135deg,var(--gold1),var(--gold2));
  box-shadow:0 0 18px rgba(255,138,31,.55)
}
h1{margin:6px 0 10px; font-size:30px; letter-spacing:.2px}
p{margin:0 0 14px; color:rgba(255,255,255,.78); line-height:1.45; font-size:16px}
.bigline{margin:10px 0 18px; color:rgba(255,255,255,.55); font-size:15px; line-height:1.55}

/* Envelope */
.envelope{
  width:152px;height:108px;margin:2px auto 14px;position:relative;
  border-radius:26px;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.12);
  box-shadow:0 18px 55px rgba(0,0,0,.35);
  overflow:hidden;
}
.envelope .shine{
  position:absolute; inset:-20%;
  background: radial-gradient(260px 120px at 30% 30%, rgba(255,226,178,.22), transparent 60%);
  transform: rotate(-10deg);
  opacity:.9;
}
.flap{
  position:absolute; left:-12%; right:-12%; top:-58%;
  height:125%;
  background:linear-gradient(135deg, rgba(255,226,178,.20), rgba(255,138,31,.12));
  transform-origin:50% 92%;
  transform:rotateX(0deg);
  border:1px solid rgba(255,255,255,.08);
  border-bottom:none;
  border-radius:28px;
}
.seal{
  position:absolute; left:50%; top:58%;
  transform:translate(-50%,-50%);
  width:40px;height:40px;border-radius:999px;
  background:radial-gradient(circle at 30% 30%, rgba(255,255,255,.40), transparent 35%),
             linear-gradient(135deg,var(--gold1),var(--gold2));
  box-shadow:0 0 30px rgba(255,138,31,.45);
}
.opening .flap{ animation: openflap .70s ease forwards; }
@keyframes openflap{ from{transform:rotateX(0deg)} to{transform:rotateX(72deg)} }

/* Buttons */
.btn{
  width:100%;
  padding:16px 18px;
  border:0;
  border-radius:18px;
  font-size:18px;
  font-weight:950;
  cursor:pointer;
  color:#140b00;
  background:linear-gradient(135deg,var(--gold1),var(--gold2));
  box-shadow:0 14px 42px rgba(255,138,31,.30);
  margin-top:10px;
  transform:translateY(0);
  transition:transform .15s ease, filter .2s ease;
}
.btn:active{transform:translateY(1px); filter:saturate(1.04)}
.hint{margin-top:10px; font-size:13px; color:rgba(255,255,255,.62)}
.tiny{margin-top:12px; font-size:12px; color:rgba(255,255,255,.45)}

/* Loader */
.loader{
  position:fixed; inset:0; display:none; place-items:center;
  background:rgba(0,0,0,.78);
  backdrop-filter: blur(6px);
  z-index:50;
}
.loader.show{display:grid; animation:fade .35s ease both}
@keyframes fade{from{opacity:0}to{opacity:1}}
.loadbox{
  width:min(520px,92%);
  border-radius:26px;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.12);
  box-shadow:0 22px 70px rgba(0,0,0,.60);
  padding:24px 20px;
  text-align:center;
}
.loadtitle{font-weight:950; letter-spacing:.2px; margin:0 0 8px}
.loadsub{margin:0 0 14px; color:rgba(255,255,255,.72)}
.bar{height:10px; border-radius:999px; overflow:hidden; background:rgba(255,255,255,.10); border:1px solid rgba(255,255,255,.10)}
.bar > div{height:100%; width:0%; border-radius:999px; background:linear-gradient(90deg,var(--gold1),var(--gold2)); animation:fill 1.1s ease forwards}
@keyframes fill{to{width:100%}}

/* Player */
.player{position:fixed; inset:0; display:none; background:#000; z-index:40}
.player.show{display:block; animation:fade .45s ease both}
.player iframe{position:absolute; inset:0; width:100%; height:100%; border:0; background:#000}

.top{
  position:absolute; left:0; right:0; top:0;
  padding:14px;
  display:flex; gap:10px; justify-content:space-between; align-items:center;
  background:linear-gradient(to bottom, rgba(0,0,0,.70), transparent);
  z-index:45;
}
.topright{display:flex; gap:10px; align-items:center}
.chip{
  font-size:12px;
  padding:10px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(0,0,0,.35);
  color:rgba(255,255,255,.86);
  backdrop-filter: blur(8px);
}
.btn-chip{cursor:pointer}

/* Center modal after part 1 */
.overlay{
  position:absolute; inset:0;
  background:rgba(0,0,0,.48);
  display:none;
  z-index:58;
}
.overlay.show{display:block; animation:fade .25s ease both}

.modal{
  position:absolute; inset:0;
  display:none;
  place-items:center;
  padding:18px;
  z-index:60;
}
.modal.show{display:grid; animation:fade .25s ease both}
.modalbox{
  width:min(560px,100%);
  border-radius:22px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(18,18,22,.45);
  backdrop-filter: blur(14px);
  box-shadow:0 22px 80px rgba(0,0,0,.62);
  padding:18px 16px;
  text-align:left;
}
.modalbox h2{margin:0 0 6px; font-size:18px}
.modalbox p{margin:0 0 12px; color:rgba(255,255,255,.78); font-size:13.5px; line-height:1.35}

.row{display:flex; gap:10px}
.mini{
  flex:1;
  padding:12px 12px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(255,255,255,.08);
  color:rgba(255,255,255,.92);
  font-weight:950;
  cursor:pointer;
}
.mini.primary{
  border:0;
  background:linear-gradient(135deg,var(--gold1),var(--gold2));
  color:#140b00;
}

/* End */
.end{
  position:absolute; inset:0; display:none; place-items:center; padding:24px;
  background:radial-gradient(900px 600px at 50% 20%, rgba(255,138,31,.18), transparent 60%), rgba(0,0,0,.74);
  backdrop-filter: blur(6px);
  z-index:70;
}
.end.show{display:grid; animation:fade .5s ease both}
.end .box{
  width:min(520px,100%);
  border-radius:26px;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.12);
  box-shadow:0 22px 70px rgba(0,0,0,.60);
  padding:26px 22px;
  text-align:center;
}
.end h3{margin:0 0 10px; font-size:24px}
.end p{margin:0; color:rgba(255,255,255,.78); font-size:16px; line-height:1.5}
.sig{margin-top:14px; font-weight:950; letter-spacing:.2px}
.end .row{margin-top:16px}

/* Particles (hearts/explosion) */
.particles{position:fixed; inset:0; pointer-events:none; z-index:120}
.particle{
  position:fixed;
  left:0; top:0;
  transform:translate(-50%,-50%);
  font-size:18px;
  will-change: transform, opacity;
  opacity:0;
  filter: drop-shadow(0 8px 18px rgba(255,138,31,.35));
}
@keyframes burst{
  0%   { opacity:0; transform:translate(var(--x), var(--y)) scale(.55) rotate(0deg); }
  10%  { opacity:1; }
  70%  { opacity:1; }
  100% { opacity:0; transform:translate(calc(var(--x) + var(--dx)), calc(var(--y) + var(--dy))) scale(1.15) rotate(var(--rot)); }
}
